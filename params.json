{
  "name": "MPI_XSTAR",
  "tagline": "MPI_XSTAR - MPI-based Parallelization of XSTAR Photoionization Program",
  "body": "## MPI_XSTAR\r\n\r\n**MPI_XSTAR** - MPI-based parallelization of XSTAR photoionization program\r\n\r\n### Description\r\nMPI_XSTAR: A parallel execution of multiple [XSTAR](https://heasarc.gsfc.nasa.gov/xstar/xstar.html) runs using [Message Passing Interface](http://www.mpi-forum.org/docs/docs.html) (MPI). XSTAR is part of the [HEASARC's standard HEADAS package](http://heasarc.nasa.gov/lheasoft/), and is a computer program used for calculating the physical conditions and emission spectra of photoionized gases ([Kallman & Bautista 2001](http://adsabs.harvard.edu/abs/2001ApJS..133..221K)).\r\n \r\nThe master program (rank=0) runs xstinitable from the HEADAS to create a list of XSTAR commands for given physical parameters, so called joblist, as well as a xstinitable.fits file, which is necessary for producing xout_ain.fits, xout_aout.fits, and xout_mtable.fits. The joblist is used to create directories in ascending order, where each individual xstar is spawned on each processor and outputs are saved. When each processor spawns the xstar, the main thread is waited until the xstar execution is completed.\r\n \r\nThe master program (rank=0) then invokes xstar2table from the HEADAS upon the contents of each directory in order to produce table model files, namely xout_ain.fits, xout_aout.fits, and xout_mtable.fits, suitable for spectroscopy analysis tools such as [ISIS](http://space.mit.edu/asc/isis/) or [XSPEC](https://heasarc.gsfc.nasa.gov/xanadu/xspec/).\r\n\r\nWebsite: http://hea-www.cfa.harvard.edu/~adanehka/mpi_xstar/\r\n\r\n### Installation\r\n1: Pre-compile Step:\r\n\r\nSet OpenMPI Path (bash):\r\n \r\n    export PATH=\"/../openmpi/bin:$PATH\"\r\n    export LD_LIBRARY_PATH=/../openmpi/lib:$LD_LIBRARY_PATH\r\n\r\n Set OpenMPI Path (cshrc):\r\n    setenv PATH \"/../openmpi/bin:$PATH\"\r\n    setenv LD_LIBRARY_PATH /../openmpi/lib:$LD_LIBRARY_PATH\r\n\r\n2: How to compile and link:\r\n\r\n     make\r\n\r\nHow to clean:\r\n\r\n     make  clean\r\n\r\n3: Set HEADAS Paths:\r\nInitialize the HEADAS and AtomDB (bash):\r\n\r\n    export HEADAS=/../heasoft/x86_64-unknown-linux-gnu-libc2.12\r\n    source $HEADAS/headas-init.sh\r\n    export ATOMDB=/../atomdb/atomdb_v3.0.2\r\n\r\nInitialize the HEADAS and AtomDB (cshrc):\r\n\r\n    setenv HEADAS /../heasoft/x86_64-unknown-linux-gnu-libc2.12\r\n    source $HEADAS/headas-init.sh\r\n    setenv ATOMDB /../atomdb/atomdb_v3.0.2\r\n\r\n4: How to use mpirun for running mpixstar:\r\n\r\n    mpirun -np number_of_processor ...\r\n\r\nfor example:\r\n\r\n    mpirun --mca mpi_warn_on_fork 0 -np 8 ./mpixstar cfrac=0.4 \\\r\n    temperature=100. lcpres=0 pressure=0.03 spectrum='pow' \\\r\n    spectun=0 trad=-1. density=1.0e+12 densitytyp=0 \\\r\n    columnsof=1.0e+20 columntyp=2 column=1.e+24 columnnst=9 columnint=1 \\\r\n    rlrad38=1.e+6 rlogxityp=2 rlogxisof=0 rlogxi=5 rlogxinst=6 rlogxiint=0 \\\r\n    habund=1 heabund=1 liabund=0 beabund=0 babund=0 cabund=1 \\\r\n    nabund=1 oabund=1 fabund=0 neabund=1 naabund=0 mgabund=1 \\\r\n    alabund=1 siabund=1 pabund=0 sabund=1 clabund=0 arabund=1 \\\r\n    kabund=0 caabund=1 scabund=0 tiabund=0 vabund=0 crabund=1 \\\r\n    mnabund=0 feabund=1 coabund=0 niabund=1 cuabund=0 znabund=0 \\\r\n    modelname='xstar_pg1211' nsteps=10 niter=99 \\\r\n    lwrite=0 lprint=1 lstep=0 emult=0.5 taumax=5. radexp=0. \\\r\n    xeemin=0.1 critf=1.e-6 vturbi=100. npass=1 ncn2=9999 \r\n\r\n5: How to run mpirun on clusters and supercomputers:\r\n\r\nIn the batches folder, a sample of running batch files are included \r\nfor different job scheduling systems. To submit a batch file:\r\n\r\nPortable Batch System (PBS):\r\n\r\n     qsub mpixstar_run.job\r\n\r\nSun Grid Engine (SGE):\r\n\r\n     qsub mpixstar_run.job\r\n\r\nSimple Linux Utility for Resource Management (SLURM): \r\n\r\n     sbatch mpixstar_run.sh\r\n",
  "note": "Don't delete this file! It's used internally to help with page regeneration."
}